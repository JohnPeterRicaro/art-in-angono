(()=>{const n="art-in-angono-cache-v1",e=["/icons/icon-72x72.png","/icons/icon-96x96.png","/icons/icon-128x128.png","/icons/icon-144x144.png","/icons/icon-152x152.png","/icons/icon-192x192.png","/icons/icon-384x384.png","/icons/icon-512x512.png","/art-in-angono-logo.png"];self.addEventListener("install",(t=>{t.waitUntil(caches.open(n).then((n=>n.addAll(e))).then((()=>self.skipWaiting())))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==n)return caches.delete(e)}))))).then((()=>self.clients.claim())))})),self.addEventListener("fetch",(e=>{"image"!==e.request.destination?e.respondWith(fetch(e.request).then((t=>{if(t.ok){const i=t.clone();caches.open(n).then((n=>{n.put(e.request,i)}))}return t})).catch((()=>caches.match(e.request)))):e.respondWith(caches.open(n).then((n=>n.match(e.request).then((t=>t||fetch(e.request).then((t=>(n.put(e.request,t.clone()),t))))))))})),self.addEventListener("push",(n=>{const e={body:n.data.text(),icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:"1"},actions:[{action:"install",title:"Install Now",icon:"/icons/icon-72x72.png"},{action:"close",title:"Close",icon:"/icons/icon-72x72.png"}]};n.waitUntil(self.registration.showNotification("Art in Angono",e))})),self.addEventListener("notificationclick",(n=>{n.notification.close(),"install"===n.action&&n.waitUntil(clients.openWindow("/"))}))})();